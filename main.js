(()=>{"use strict";const e=class{constructor(e,t,o){this.title=e,this.description=t,this.tasks=[],this.colorCode=o}addTask(e,t,o,s){this.tasks.push(new Task(e,t,o,s))}addTask(e){this.tasks.push(e)}length(){return this.tasks.length}deleteTask(e){this.tasks.splice(e,1)}getTasks(){return this.tasks}},t=class{constructor(e,t,o,s){this.title=e,this.description=t,this.status=o,this.colorCode=s}getTitle(){return this.title}getDescription(){return this.description}getColorCode(){return this.colorCode}},o=document.querySelector("#project-modal"),s=document.querySelector("#project-modal-edit"),c=document.querySelector("#task-modal"),l=document.querySelector("#task-modal-edit"),r=document.querySelector("#set-name-modal"),n=document.querySelector(".greeting");function i(){a(),d(defaultProject)}function a(){const e=document.querySelector(".project-list");e.innerHTML="";for(let t=0;t<k.length;t++){const o=document.createElement("div");o.classList.add("project-card"),o.classList.add(k[t].colorCode),e.appendChild(o),o.value=t;const s=document.createElement("p");s.classList.add("project-title-sidebar"),s.innerHTML=k[t].title,s.value=t,o.appendChild(s);const c=document.createElement("button");c.classList.add("project-edit-btn"),c.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>circle-edit-outline</title><path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12H20A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4V2M18.78,3C18.61,3 18.43,3.07 18.3,3.2L17.08,4.41L19.58,6.91L20.8,5.7C21.06,5.44 21.06,5 20.8,4.75L19.25,3.2C19.12,3.07 18.95,3 18.78,3M16.37,5.12L9,12.5V15H11.5L18.87,7.62L16.37,5.12Z" /></svg>',c.value=t,o.appendChild(c),o.addEventListener("click",(e=>{d(k[t]),y=t})),c.addEventListener("click",(e=>{e.preventDefault(),u(k[t]),y=t}))}p()}function d(e){const t=document.querySelector(".tasks-title"),o=document.querySelector(".tasks-description"),s=document.querySelector(".to-do"),c=document.querySelector(".in-progress"),r=document.querySelector(".completed");var n;(n=t).classList.contains("color-red")&&n.classList.remove("color-red"),n.classList.contains("color-green")&&n.classList.remove("color-green"),n.classList.contains("color-blue")&&n.classList.remove("color-blue"),n.classList.contains("color-yellow")&&n.classList.remove("color-yellow"),n.classList.contains("color-orange")&&n.classList.remove("color-orange"),n.classList.contains("color-purple")&&n.classList.remove("color-purple"),t.classList.add(`color-${e.colorCode}`),t.innerHTML=e.title,o.innerHTML=e.description,s.innerHTML="",c.innerHTML="",r.innerHTML="";for(let t=0;t<e.tasks.length;t++){const o=`<div class="task-card ${e.tasks[t].colorCode}" id="${t}"><p class="task-title">${e.tasks[t].title}</p>\n        <p class="task-description">${e.tasks[t].description}</p>\n        </div>\n        </div>`;"To Do"===e.tasks[t].status?s.innerHTML+=o:"In Progress"===e.tasks[t].status?c.innerHTML+=o:"Completed"===e.tasks[t].status&&(r.innerHTML+=o)}document.querySelectorAll(".task-card").forEach((e=>{e.addEventListener("click",(t=>{m=e.id,t.preventDefault(),function(e){l.style.display="block",document.querySelector("#task-title-edit").value=e.title,document.querySelector("#task-description-edit").value=e.description,document.querySelector("#task-status-edit").value=e.status,document.querySelector("#task-color-edit").selected=e.colorCode}(k[y].tasks[m])}))})),p()}function u(e){s.style.display="block",document.querySelector("#project-title-edit").value=e.title,document.querySelector("#project-description-edit").value=e.description,document.querySelector("#project-color-edit").selected=e.colorCode}function p(){localStorage.setItem("projectList",JSON.stringify(k))}n.addEventListener("click",(e=>{e.preventDefault(),r.style.display="block"})),document.querySelector("#name-close").addEventListener("click",(()=>{r.style.display="none"})),document.querySelector(".set-name").addEventListener("click",(e=>{e.preventDefault();const t=document.querySelector("#user-name").value;""===t?(n.innerHTML="Welcome back.",localStorage.setItem("userName",""),r.style.display="none"):(n.innerHTML=`Welcome back, ${t}.`,r.style.display="none",v=t,localStorage.setItem("userName",v)),d(k[y])})),document.querySelector("#project-close").addEventListener("click",(()=>{o.style.display="none"})),document.querySelector("#project-edit-close").addEventListener("click",(()=>{s.style.display="none"})),document.querySelector("#task-close").addEventListener("click",(()=>{c.style.display="none"})),document.querySelector("#task-edit-close").addEventListener("click",(()=>{l.style.display="none"})),document.querySelector(".add-project").addEventListener("click",(()=>{o.style.display="block"})),document.querySelector(".add-task").addEventListener("click",(()=>{c.style.display="block"})),document.querySelector(".project-submit").addEventListener("click",(t=>{const s=document.querySelector("#project-title").value,c=document.querySelector("#project-description").value,l=document.querySelector("#project-color").value;t.preventDefault(),k.push(new e(s,c,l)),a(),o.style.display="none",d(k[k.length-1]),y=k.length-1})),document.querySelector(".task-submit").addEventListener("click",(e=>{const o=document.querySelector("#task-title").value,s=document.querySelector("#task-description").value,l=document.querySelector("#task-status").value,r=document.querySelector("#task-color").value;e.preventDefault(),k[y].tasks.push(new t(o,s,l,r)),c.style.display="none",d(k[y])})),document.querySelector(".project-submit-edit").addEventListener("click",(e=>{const t=document.querySelector("#project-title-edit").value,o=document.querySelector("#project-description-edit").value,c=document.querySelector("#project-color-edit").value;e.preventDefault(),k[y].title=t,k[y].description=o,k[y].colorCode=c,a(),d(k[y]),s.style.display="none"})),document.querySelector(".task-submit-edit").addEventListener("click",(e=>{const t=document.querySelector("#task-title-edit").value,o=document.querySelector("#task-description-edit").value,s=document.querySelector("#task-status-edit").value,c=document.querySelector("#task-color-edit").value;e.preventDefault(),k[y].tasks[m].title=t,k[y].tasks[m].description=o,k[y].tasks[m].status=s,k[y].tasks[m].colorCode=c,d(k[y]),l.style.display="none"})),document.querySelector(".project-delete").addEventListener("click",(e=>{e.preventDefault(),k.splice(y,1),a(),s.style.display="none",k.length>0?d(k[k.length-1]):o.style.display="block"})),document.querySelector(".task-delete").addEventListener("click",(e=>{e.preventDefault(),k[y].tasks.splice(m,1),d(k[y]),l.style.display="none"}));let y=0,m=0,k=[],v="";if(null===localStorage.getItem("projectList")){let o=new e("Default Project","This is the default project description","blue"),s=new t("Default Task","This is a default task","To Do","red");o.addTask(s),k.push(o),n.innerHTML="Welcome!",r.style.display="block",i()}else k=JSON.parse(localStorage.getItem("projectList")),v=localStorage.getItem("userName"),n.innerHTML=null==v||""===v?"Welcome back.":`Welcome back, ${v}.`,a(),d(k[y])})();